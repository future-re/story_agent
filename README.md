# Story Agent ğŸ“š

AI é©±åŠ¨çš„å°è¯´åˆ›ä½œåŠ©æ‰‹ï¼Œå¸®åŠ©ä½ ä»ç‚¹å­åˆ°å®Œæ•´å°è¯´ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¯ **å¤§çº²ç”Ÿæˆ** - ä»ç‚¹å­ç”Ÿæˆå®Œæ•´å¤§çº²ï¼Œæˆ–ä»å·²æœ‰ç« èŠ‚ç»­å†™
- ğŸ­ **è§’è‰²ç³»ç»Ÿ** - åˆ›å»ºæœ‰è®°å¿†å’Œäººæ ¼çš„è§’è‰² Agent
- âœï¸ **ç« èŠ‚åˆ›ä½œ** - AI è¾…åŠ©ç”Ÿæˆç« èŠ‚æ­£æ–‡
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** - è‡ªåŠ¨ä¿å­˜ä¸º txt æ–‡ä»¶
- ğŸ”„ **å¤šæ¨¡å¼æ”¯æŒ** - ä»é›¶å¼€å§‹ / ä»ç« èŠ‚åæ¨ / ä»å¤§çº²æ‰©å±•

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repo_url>
cd story_agent

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate  # Windows

# å®‰è£…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
pip install -e .

# é…ç½® API Key
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„ DEEPSEEK_API_KEY
```

### ä½¿ç”¨æ–¹å¼

#### äº¤äº’æ¨¡å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
story-agent
```

#### å‘½ä»¤è¡Œæ¨¡å¼

```bash
# åˆ›å»ºæ–°é¡¹ç›®å¹¶ç”Ÿæˆå¤§çº²
story-agent new "ä»£ç ä¿®ä»™" --idea "ç¨‹åºå‘˜ç©¿è¶Šä¿®ä»™ç•Œç”¨ä»£ç ç”»ç¬¦"

# æŸ¥çœ‹é¡¹ç›®çŠ¶æ€
story-agent status "ä»£ç ä¿®ä»™"

# å†™ç« èŠ‚
story-agent write "ä»£ç ä¿®ä»™" 1 "åˆå…¥é’äº‘" --context "ä¸»è§’ç©¿è¶Šåˆ°é’äº‘å®—"

# å¯¼å…¥å·²æœ‰ç« èŠ‚
story-agent import "ä»£ç ä¿®ä»™" --dir /path/to/chapters/

# ä»å·²æœ‰ç« èŠ‚ç”Ÿæˆåç»­å¤§çº²
story-agent outline "ä»£ç ä¿®ä»™" continue --count 10

# æ‰©å±•å¤§çº²
story-agent outline "ä»£ç ä¿®ä»™" expand --request "ç»†åŒ–ç¬¬ä¸€å·"

# å¯¼å‡ºå®Œæ•´å°è¯´
story-agent export "ä»£ç ä¿®ä»™"
```

#### Python API

```python
from main import StoryAgent

agent = StoryAgent("æˆ‘çš„å°è¯´")

# ç”Ÿæˆå¤§çº²
agent.create_outline("ä½ çš„åˆ›æ„ç‚¹å­")

# æ·»åŠ è§’è‰²
agent.add_character("æ—å¤œ", role="protagonist", 
                    personality="æ²‰ç¨³ç†æ€§", desire="å¯»æ‰¾å›å®¶çš„è·¯")

# å†™ç« èŠ‚
agent.write_chapter(1, "åˆå…¥é’äº‘", "ä¸»è§’ç©¿è¶Šåˆ°é’äº‘å®—")

# å¯¼å‡º
agent.export()
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ agents/       # æ™ºèƒ½ä½“ï¼ˆè§’è‰²ã€å™è¿°è€…ã€è§„åˆ’å™¨ï¼‰
â”œâ”€â”€ simulation/   # ä»¿çœŸï¼ˆä¸–ç•ŒçŠ¶æ€ã€äº‹ä»¶ã€è®°å¿†ï¼‰
â”œâ”€â”€ generation/   # ç”Ÿæˆï¼ˆå¤§çº²ã€ç« èŠ‚ã€Promptï¼‰
â”œâ”€â”€ models/       # AI æ¨¡å‹é€‚é…
â”œâ”€â”€ storage/      # æœ¬åœ°å­˜å‚¨
â”œâ”€â”€ schema/       # æ•°æ®æ¨¡å‹
â”œâ”€â”€ main.py       # ç»Ÿä¸€å…¥å£
â”œâ”€â”€ cli.py        # å‘½ä»¤è¡Œå·¥å…·
â””â”€â”€ config.py     # é…ç½®
```

## è¾“å‡ºç›®å½•

ç”Ÿæˆçš„å†…å®¹å­˜å‚¨åœ¨ `output/` ç›®å½•ï¼š

```
output/
â””â”€â”€ é¡¹ç›®å/
    â”œâ”€â”€ å¤§çº².txt
    â”œâ”€â”€ chapters/
    â”‚   â”œâ”€â”€ 001_ç¬¬ä¸€ç« æ ‡é¢˜.txt
    â”‚   â””â”€â”€ ...
    â””â”€â”€ characters/
        â””â”€â”€ è§’è‰²å.txt
```

## å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `python src/cli.py` | äº¤äº’æ¨¡å¼ |
| `new <åç§°> [--idea]` | åˆ›å»ºé¡¹ç›® |
| `outline <é¡¹ç›®> create --idea` | ä»ç‚¹å­ç”Ÿæˆå¤§çº² |
| `outline <é¡¹ç›®> continue` | ä»ç« èŠ‚ç»­å†™å¤§çº² |
| `outline <é¡¹ç›®> expand --request` | æ‰©å±•å¤§çº² |
| `write <é¡¹ç›®> <ç« èŠ‚å·> <æ ‡é¢˜>` | å†™ç« èŠ‚ |
| `import <é¡¹ç›®> --dir/--file` | å¯¼å…¥å·²æœ‰ç« èŠ‚ |
| `status <é¡¹ç›®>` | æŸ¥çœ‹çŠ¶æ€ |
| `export <é¡¹ç›®>` | å¯¼å‡ºå°è¯´ |

## License

MIT
